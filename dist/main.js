(()=>{"use strict";(()=>{let e,t,n;const o="https://firsttypescriptapp.firebaseio.com/boards.json";function c(){const n={nickname:e.value,message:t.value,posted:(new Date).getTime()};!function(e,t){fetch(e,{method:"POST",mode:"cors",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((e=>{console.log(e.statusText)})),d(e)}(o,n)}function s(){fetch(o,{method:"DELETE"}).then((e=>{console.log(e.statusText),d(o)}))}function d(e){fetch(e).then((e=>e.json())).then((e=>{let t="";for(let n in e){let o=e[n];t=` <tr>\n                    <td> ${o.message}</td>\n                    <td> ${o.nickname}</td>\n                    <td> ${new Date(o.posted).toLocaleString}</td>\n                  </tr>\n        `+t}n.innerHTML="",n.innerHTML=t}))}window.addEventListener("load",(()=>{t=document.querySelector("#message"),e=document.querySelector("#nickname"),n=document.querySelector("#table tbody"),document.querySelector("#send-btn").onclick=c,document.querySelector("#all-delete-btn").onclick=s}))})()})();